{% extends "rate_this/base.html" %}

{% block title %}Posts{% endblock %}

{% block body_block %}

	<div role="tabpanel" class="tab-pane active" id="panel-1">
		<div class="row masonry-container">
			{% for post in posts %}
			<div class="col-md-4 col-sm-6 item">
				<div class="thumbnail" href="/media/{{ post.image }}" data-toggle="lightbox" data-title="{{ post.title }}" data-footer="{{ post.description }}">
				<img src="/media/{{ post.image }}" alt="">
					<div class="caption">
						<h3>{{ post.title }}</h3>
						<p>{{ post.description }}</p>						
					</div>
				</div>
			</div>
			{% endfor %}
		</div><!--End masonry-container  -->
	</div><!--End panel-1  -->   	

	{% if prev_page >= 0 %}
   	<div class="col-xs-6"> 		
		<a href="/explore/{{ prev_page }}" class="btn btn-default btn-block" role="button">Previous</a>
	</div>   
	<div class="col-xs-6"> 
	{% else %}
	<div> 
	{% endif %}	
		<a href="/explore/{{ next_page }}" class="btn btn-primary btn-block" role="button">Next</a> 
	</div>   	
	
	<script type="text/javascript" defer="defer">	

		var $container = $('.masonry-container');
		$container.imagesLoaded( function () {
			$container.masonry({
				columnWidth: '.item',
				itemSelector: '.item'
			});   
		});
		
		$(document).delegate('*[data-toggle="lightbox"]', 'click', function(event) {
		    event.preventDefault();
		    $(this).ekkoLightbox();
		}); 
	</script>

{% endblock %}